---
import "../styles/global.css";
---

<label class="inline-flex items-center cursor-pointer">
  <input type="checkbox" value="" class="sr-only peer" id="themeToggle" />
  <!-- Credit: https://flowbite.com/docs/forms/toggle/ -->
  <div
    class="relative w-11 h-6 bg-eggplant dark:bg-lilac rounded-full peer-checked:after:translate-x-full after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"
  >
  </div>
</label>

<!-- Credit: https://docs.astro.build/en/tutorial/6-islands/2/ -->
<script is:inline>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document
    .getElementById("themeToggle")
    ?.addEventListener("click", handleToggleClick);
</script>
