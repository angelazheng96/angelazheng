---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
import Prose from "../components/Prose.astro";

const { frontmatter } = Astro.props;
---

<Layout title={frontmatter.title}>
  <div class="my-6 md:my-10 flex flex-col gap-6 md:gap-10">
    <!-- outer container (page-wide centering) -->
    <div class="max-w-5xl mx-auto px-4 w-full">
      <!-- back button container -->
      <div class="max-w-4xl mx-auto w-full">
        <button
          onclick="location.href='/blog'"
          class="mb-4 md:mb-5 p-2 border-2 border-lilac/50 rounded-lg
          hover:scale-102 hover:shadow-lg hover:shadow-salmon/20 dark:hover:shadow-rose/20 hover:cursor-pointer hover:text-eggplant dark:hover:text-lilac
          transition-transform duration-200 text-sm md:text-base"
        >
          &larr; Back to Blog
        </button>
      </div>

      <!-- metadata / title block -->
      <div
        class="max-w-4xl mx-auto text-base md:text-lg grid gap-3 md:gap-4 justify-center justify-items-center"
      >
        <div class="text-sm md:text-base">
          {
            new Date(frontmatter.date).toLocaleDateString("en-CA", {
              year: "numeric",
              month: "long",
              day: "numeric",
            })
          }
        </div>

        <div class="flex flex-wrap gap-1.5 md:gap-2 justify-center">
          {
            frontmatter.tags &&
              frontmatter.tags.map((tag) => (
                <span class="bg-eggplant/50 text-white rounded-md px-2 md:px-3 py-0.5 md:py-1 text-xs md:text-sm">
                  {tag}
                </span>
              ))
          }
        </div>

        <h1
          class="text-center text-3xl md:text-5xl font-semibold my-2 md:my-3 px-4"
        >
          {frontmatter.title}
        </h1>

        <div
          class="italic text-center text-sm md:text-base max-w-[80ch] mx-auto px-4"
        >
          {frontmatter.description}
        </div>
      </div>
    </div>

    <Prose class="mx-auto max-w-4xl px-4">
      <slot />
    </Prose>
  </div>
</Layout>
