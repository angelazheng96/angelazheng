---
import "../styles/global.css";

import Layout from "../layouts/Layout.astro";
import ProjectLinks from "../components/ProjectLinks.astro";

const { frontmatter } = Astro.props;
---

<Layout title={frontmatter.title}>
  <div class="my-10 flex flex-col gap-10">
    <!-- outer container (page-wide centering) -->
    <div class="max-w-5xl mx-auto px-4 w-full">
      <!-- align back button to the left edge of the prose by placing it in
           the same-width inner container as the prose (max-w-4xl) -->
      <div class="max-w-4xl mx-auto w-full">
        <button
          onclick="location.href='/projects'"
          class="mb-5 p-2 border-2 border-lilac/50 rounded-lg
          hover:scale-102 hover:shadow-lg hover:cursor-pointer hover:text-eggplant dark:hover:text-lilac
          transition-transform duration-200"
        >
          &larr; Back to Projects
        </button>
      </div>

      <!-- metadata / title block: center content inside the same inner width -->
      <div
        class="max-w-4xl mx-auto text-lg grid gap-4 justify-center justify-items-center"
      >
        <div>
          {
            new Date(frontmatter.date).toLocaleDateString("en-CA", {
              year: "numeric",
              month: "long",
              day: "numeric",
            })
          }
        </div>

        <div class="flex flex-wrap gap-2">
          {
            frontmatter.tags &&
              frontmatter.tags.map((tag) => (
                <span class="bg-eggplant/50 text-white rounded-md px-3 py-1 text-sm">
                  {tag}
                </span>
              ))
          }
        </div>

        <h1 class="text-center text-5xl font-semibold my-3">
          {frontmatter.title}
        </h1>

        <div class="flex flex-wrap gap-2">
          {
            frontmatter.techStack &&
              frontmatter.techStack.map((tech) => (
                <span class="bg-teal/50 text-white rounded-md px-3 py-1 text-sm">
                  {tech}
                </span>
              ))
          }
        </div>

        <div class="italic text-center max-w-[80ch] mx-auto">
          {frontmatter.description}
        </div>

        <div>
          <ProjectLinks deploy={frontmatter.demo} repo={frontmatter.repo} />
        </div>
      </div>
    </div>

    <!-- prose: keep same inner max width so its left edge lines up with button -->
    <div
      class="mx-auto max-w-4xl prose dark:prose-invert
      prose-h1:text-3xl prose-h1:font-semibold prose-h1:text-eggplant dark:prose-h1:text-lilac
      prose-h2:text-xl prose-h2:font-semibold prose-h2:text-teal dark:prose-h2:text-aquamarine"
    >
      <slot />
    </div>
  </div>
</Layout>
